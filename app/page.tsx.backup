"use client";

import { Navigation } from "@/components/Navigation";
import { Card, CardContent, CardDescription, CardHeader, CardTitle } from "@/components/ui/card";
import { Button } from "@/components/ui/button";
import { Calendar, List, Clock, ChefHat } from "lucide-react";
import { useState, useEffect } from "react";
import { format } from "date-fns";
import { schedulesApi, Schedule, ScheduleCompletion } from "@/lib/supabase-client";
import Link from "next/link";

export default function Home() {
  const [schedules, setSchedules] = useState<Schedule[]>([]);
  const [memberSchedules, setMemberSchedules] = useState<{ [key: string]: Array<{
    id: string;
    title: string;
    description?: string;
    frequency: string;
    start_date: string;
    end_date?: string;
    family_members: string[];
    completed: boolean;
  }> }>({});
  const [isLoading, setIsLoading] = useState(true);
  const [stats, setStats] = useState({
    totalSchedules: 0,
    totalFamilyMeals: 0,
    totalMeals: 0,
    totalRecipes: 0,
    yesterdayUncompleted: 0,
    todayUncompleted: 0,
    tomorrowUncompleted: 0,
  });

  // ì‹¤ì œ ë°ì´í„° ë¡œë“œ
  useEffect(() => {
    loadData();
  }, []);

  const loadData = async () => {
    try {
      setIsLoading(true);
      console.log('ë°ì´í„° ë¡œë“œ ì‹œì‘...');
      
      try {
        // ê¸°ë³¸ í†µê³„ ë°ì´í„°ë§Œ ë¡œë“œ (ì¼ì • ê´€ë ¨)
        const schedulesData = await schedulesApi.getAll();
        
        if (schedulesData) {
          setSchedules(schedulesData);
        }
        
        // ê°€ì¡± êµ¬ì„±ì›ë³„ ì˜¤ëŠ˜ ì¼ì • ì¡°íšŒ
        const familyMembers = ['family', 'mom', 'sein', 'seha', 'dad'];
        console.log('ê°€ì¡± êµ¬ì„±ì›ë³„ ì¼ì • ì¡°íšŒ ì‹œì‘...');
        
        try {
          const todayMemberSchedules = await schedulesApi.getTodaySchedulesByMember(familyMembers);
          setMemberSchedules(todayMemberSchedules);
          console.log('ê°€ì¡± êµ¬ì„±ì›ë³„ ì˜¤ëŠ˜ ì¼ì • ë¡œë“œ ì™„ë£Œ:', todayMemberSchedules);
        } catch (scheduleError) {
          console.error('ê°€ì¡± êµ¬ì„±ì›ë³„ ì¼ì • ì¡°íšŒ ì‹¤íŒ¨:', scheduleError);
          // ì—ëŸ¬ ì‹œ ë¹ˆ ë°ì´í„°ë¡œ ì„¤ì •
          const emptySchedules: { [key: string]: Array<{
            id: string;
            title: string;
            description?: string;
            frequency: string;
            start_date: string;
            end_date?: string;
            family_members: string[];
            completed: boolean;
          }> } = {};
          familyMembers.forEach(member => {
            emptySchedules[member] = [];
          });
          setMemberSchedules(emptySchedules);
        }
        
        // ê¸°ë³¸ í†µê³„ ì„¤ì •
        setStats({
          totalSchedules: schedulesData?.length || 0,
          totalFamilyMeals: 0,
          totalMeals: 0,
          totalRecipes: 0,
          yesterdayUncompleted: 0,
          todayUncompleted: 0,
          tomorrowUncompleted: 0,
        });

    } catch (error) {
      console.error('ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
      // ì—ëŸ¬ ì‹œì—ë„ ê¸°ë³¸ í†µê³„ëŠ” 0ìœ¼ë¡œ ì„¤ì •
      setStats({
        totalSchedules: 0,
        totalFamilyMeals: 0,
        totalMeals: 0,
        totalRecipes: 0,
        yesterdayUncompleted: 0,
        todayUncompleted: 0,
        tomorrowUncompleted: 0,
      });
    } finally {
      setIsLoading(false);
    }
  };

  // ì¼ì • í†µê³„ ê³„ì‚° (ì™„ë£Œ ìƒíƒœ ê³ ë ¤)
  useEffect(() => {
    if (schedules.length === 0) return;

    // í˜„ì¬ ì‹œê°„ ê¸°ì¤€ìœ¼ë¡œ ì •í™•í•œ ë‚ ì§œ ê³„ì‚°
    const now = new Date();
    const today = new Date(now.getFullYear(), now.getMonth(), now.getDate()); // ì‹œê°„ ì œê±°
    const yesterday = new Date(today);
    yesterday.setDate(today.getDate() - 1);
    const tomorrow = new Date(today);
    tomorrow.setDate(today.getDate() + 1);

    console.log('ë‚ ì§œ ê³„ì‚°:', {
      today: format(today, 'yyyy-MM-dd'),
      yesterday: format(yesterday, 'yyyy-MM-dd'),
      tomorrow: format(tomorrow, 'yyyy-MM-dd')
    });

    const getUncompletedCountForDate = async (date: Date) => {
      try {
        const dateString = format(date, 'yyyy-MM-dd');
        
        // í•´ë‹¹ ë‚ ì§œì— ì‹¤í–‰ë˜ì–´ì•¼ í•˜ëŠ” ì¼ì •ë“¤ì„ ì •í™•íˆ ê³„ì‚°
        const applicableSchedules = schedules.filter(schedule => {
          const start = new Date(schedule.start_date);
          const end = schedule.end_date ? new Date(schedule.end_date) : new Date(2100, 0, 1);
          
          // ë‚ ì§œ ë²”ìœ„ ì²´í¬ (ì‹œê°„ ì œê±°í•˜ì—¬ ì •í™•í•œ ë¹„êµ)
          const checkDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());
          const startDate = new Date(start.getFullYear(), start.getMonth(), start.getDate());
          const endDate = new Date(end.getFullYear(), end.getMonth(), end.getDate());
          
          if (checkDate < startDate || checkDate > endDate) return false;
          
          // ë¹ˆë„ë³„ í•„í„°ë§ (ì¼ì •ê´€ë¦¬ í˜ì´ì§€ì™€ ë™ì¼í•œ ë¡œì§)
          switch (schedule.frequency) {
            case 'daily':
              return true;
            case 'weekly':
              if (schedule.weekly_day !== null && schedule.weekly_day !== undefined) {
                let scheduleDay = schedule.weekly_day;
                if (scheduleDay >= 1 && scheduleDay <= 7) {
                  scheduleDay = scheduleDay === 7 ? 0 : scheduleDay;
                }
                return date.getDay() === scheduleDay;
              }
              // ì£¼ì°¨ ê¸°ë°˜
              const weekStart = new Date(startDate.getFullYear(), startDate.getMonth(), startDate.getDate() - startDate.getDay());
              const currentWeekStart = new Date(checkDate.getFullYear(), checkDate.getMonth(), checkDate.getDate() - checkDate.getDay());
              const weekDiff = Math.floor((currentWeekStart.getTime() - weekStart.getTime()) / (7 * 24 * 60 * 60 * 1000));
              return weekDiff >= 0 && weekDiff % 1 === 0;
            case 'monthly':
              if (schedule.monthly_day !== null && schedule.monthly_day !== undefined) {
                return date.getDate() === schedule.monthly_day;
              }
              return date.getDate() === startDate.getDate();
            case 'custom':
              if (schedule.custom_pattern) {
                try {
                  const pattern = JSON.parse(schedule.custom_pattern);
                  switch (pattern.type) {
                    case 'daily':
                      return true;
                    case 'interval':
                      const daysDiff = Math.floor((checkDate.getTime() - startDate.getTime()) / (24 * 60 * 60 * 1000));
                      return daysDiff >= 0 && daysDiff % pattern.interval === 0;
                    case 'specific_days':
                      return pattern.days?.includes(date.getDay()) || false;
                    case 'weekday':
                      const currentDay = date.getDay();
                      return currentDay >= 1 && currentDay <= 5;
                    case 'weekend':
                      const day = date.getDay();
                      return day === 0 || day === 6;
                    default:
                      return true;
                  }
                } catch (error) {
                  return true;
                }
              }
              return true;
            default:
              return false;
          }
        });
        
        if (applicableSchedules.length === 0) {
          console.log(`${dateString}: ì‹¤í–‰ ê°€ëŠ¥í•œ ì¼ì • ì—†ìŒ`);
          return 0;
        }
        
        const scheduleIds = applicableSchedules.map(s => s.id);
        
        // í•´ë‹¹ ë‚ ì§œì˜ ì™„ë£Œ ìƒíƒœ ì¼ê´„ ì¡°íšŒ
        const completions = await schedulesApi.getCompletionStatuses(scheduleIds, dateString, dateString);
        
        // ì™„ë£Œë˜ì§€ ì•Šì€ ì¼ì • ìˆ˜ ê³„ì‚°
        const uncompletedCount = applicableSchedules.filter(schedule => {
          const completion = completions.find(c => c.schedule_id === schedule.id);
          return !completion || !completion.completed;
        }).length;
        
        console.log(`${dateString}: ì‹¤í–‰ ê°€ëŠ¥ ì¼ì • ${applicableSchedules.length}ê°œ, ë¯¸ì™„ë£Œ ${uncompletedCount}ê°œ`);
        
        return uncompletedCount;
      } catch (error) {
        console.error(`${format(date, 'yyyy-MM-dd')} ì™„ë£Œ ìƒíƒœ ì¡°íšŒ ì‹¤íŒ¨:`, error);
        return 0;
      }
    };

    // ë¹„ë™ê¸°ë¡œ í†µê³„ ê³„ì‚°
    const calculateStats = async () => {
      const [yesterdayCount, todayCount, tomorrowCount] = await Promise.all([
        getUncompletedCountForDate(yesterday),
        getUncompletedCountForDate(today),
        getUncompletedCountForDate(tomorrow)
      ]);

      console.log('ìµœì¢… í†µê³„:', {
        yesterday: yesterdayCount,
        today: todayCount,
        tomorrow: tomorrowCount
      });

      setStats(prev => ({
        ...prev,
        yesterdayUncompleted: yesterdayCount,
        todayUncompleted: todayCount,
        tomorrowUncompleted: tomorrowCount,
      }));
    };

    calculateStats();
  }, [schedules]);

  const features = [
    {
      title: "ê°€ì¡±ì‹ë‹¨",
      description: "ì›”ë³„ ìº˜ë¦°ë”ë¡œ ê°€ì¡±ì˜ ì•„ì¹¨, ì ì‹¬, ì €ë… ì‹ë‹¨ì„ ê´€ë¦¬í•˜ì„¸ìš”",
      icon: Calendar,
      href: "/family-meals",
      color: "bg-blue-500",
    },
    {
      title: "ì‹ë‹¨ë¦¬ìŠ¤íŠ¸",
      description: "ìì£¼ ë¨¹ëŠ” ë©”ë‰´ë“¤ì„ ê´€ë¦¬í•˜ê³  ê°€ì¡± í˜¸ì‘ë„ë¥¼ ê¸°ë¡í•˜ì„¸ìš”",
      icon: List,
      href: "/meals",
      color: "bg-green-500",
    },
    {
      title: "ë ˆì‹œí”¼",
      description: "ë‹¤ì–‘í•œ ìš”ë¦¬ ë ˆì‹œí”¼ë¥¼ ì €ì¥í•˜ê³  ê³µìœ í•˜ì„¸ìš”",
      icon: ChefHat,
      href: "/recipes",
      color: "bg-purple-500",
    },
    {
      title: "ì¼ì • ê´€ë¦¬",
      description: "ì£¼ê¸°ì ì¸ ì—…ë¬´ ì¼ì •ì„ ìº˜ë¦°ë”ë¡œ ê´€ë¦¬í•˜ì„¸ìš”",
      icon: Clock,
      href: "/schedule",
      color: "bg-orange-500",
    },
  ];

  return (
    <div className="min-h-screen bg-gradient-to-br from-blue-50 via-white to-green-50">
      <Navigation />
      
      <main className="max-w-7xl mx-auto px-4 py-8">
        {/* Hero Section */}
        <div className="text-center py-16 px-4">
          <h1 className="text-5xl md:text-7xl font-bold text-gray-900 mb-8">
            Simply Us.
          </h1>
          
          {/* í•´ì•¼í• ì¼ ì˜ì—­ì„ íƒ€ì´í‹€ ë°”ë¡œ ì•„ë˜ë¡œ ì´ë™ */}
          <div className="max-w-6xl mx-auto mb-12">
            <div className="bg-white rounded-2xl shadow-xl p-6 md:p-8 border border-gray-100">
              <h2 className="text-2xl md:text-3xl font-bold text-gray-800 mb-6 text-center">
                ì˜ë¯¸ìˆëŠ” í•˜ë£¨
              </h2>
              <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4">
                <div className="bg-orange-50 rounded-lg p-4 border border-orange-200">
                  <div className="text-orange-600 font-semibold mb-2 text-center">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family</div>
                  <div className="mt-2 text-xs text-gray-500">
                    {isLoading ? (
                      <div className="text-gray-400">ë¡œë”© ì¤‘...</div>
                    ) : memberSchedules['family'] && memberSchedules['family'].length > 0 ? (
                      memberSchedules['family'].slice(0, 3).map((schedule, index) => {
                        console.log(`Family ì¼ì • ${index} ìƒì„¸:`, {
                          title: schedule.title,
                          completed: schedule.completed,
                          family_members: schedule.family_members,
                          frequency: schedule.frequency,
                          start_date: schedule.start_date,
                          end_date: schedule.end_date
                        });
                        return (
                          <div key={index} className="flex items-center space-x-2">
                            {schedule.completed ? (
                              <>
                                <span className="text-green-500">âœ…</span>
                                <span className="line-through text-gray-400">{schedule.title}</span>
                              </>
                            ) : (
                              <>
                                <span className="text-blue-400">ğŸš€</span>
                                <span className="text-gray-600">{schedule.title}</span>
                              </>
                            )}
                          </div>
                        );
                      })
                    ) : (
                      <div className="text-gray-400">ì˜¤ëŠ˜ í• ì¼ì´ ì—†ìŠµë‹ˆë‹¤</div>
                    )}
                  </div>
                </div>
                <div className="bg-pink-50 rounded-lg p-4 border border-pink-200">
                  <div className="text-pink-600 font-semibold mb-2 text-center">ğŸ‘© ì—„ë§ˆ</div>
                  <div className="mt-2 text-xs text-gray-500">
                    {isLoading ? (
                      <div className="text-gray-400">ë¡œë”© ì¤‘...</div>
                    ) : memberSchedules['mom'] && memberSchedules['mom'].length > 0 ? (
                      memberSchedules['mom'].slice(0, 3).map((schedule, index) => {
                        console.log(`Mom ì¼ì • ${index} ìƒì„¸:`, {
                          title: schedule.title,
                          completed: schedule.completed,
                          family_members: schedule.family_members,
                          frequency: schedule.frequency
                        });
                        return (
                          <div key={index} className="flex items-center space-x-2">
                            {schedule.completed ? (
                              <>
                                <span className="text-green-500">âœ…</span>
                                <span className="line-through text-gray-400">{schedule.title}</span>
                              </>
                            ) : (
                              <>
                                <span className="text-blue-400">ğŸš€</span>
                                <span className="text-gray-600">{schedule.title}</span>
                              </>
                            )}
                          </div>
                        );
                      })
                    ) : (
                      <div className="text-gray-400">ì˜¤ëŠ˜ í• ì¼ì´ ì—†ìŠµë‹ˆë‹¤</div>
                    )}
                  </div>
                </div>
                <div className="bg-green-50 rounded-lg p-4 border border-green-200">
                  <div className="text-green-600 font-semibold mb-2 text-center">ğŸ‘¦ ì„¸ì¸</div>
                  <div className="mt-2 text-xs text-gray-500">
                    {isLoading ? (
                      <div className="text-gray-400">ë¡œë”© ì¤‘...</div>
                    ) : memberSchedules['sein'] && memberSchedules['sein'].length > 0 ? (
                      memberSchedules['sein'].slice(0, 3).map((schedule, index) => {
                        console.log(`Sein ì¼ì • ${index} ìƒì„¸:`, {
                          title: schedule.title,
                          completed: schedule.completed,
                          family_members: schedule.family_members,
                          frequency: schedule.frequency
                        });
                        return (
                          <div key={index} className="flex items-center space-x-2">
                            {schedule.completed ? (
                              <>
                                <span className="text-green-500">âœ…</span>
                                <span className="line-through text-gray-400">{schedule.title}</span>
                              </>
                            ) : (
                              <>
                                <span className="text-blue-400">ğŸš€</span>
                                <span className="text-gray-600">{schedule.title}</span>
                              </>
                            )}
                          </div>
                        );
                      })
                    ) : (
                      <div className="text-gray-400">ì˜¤ëŠ˜ í• ì¼ì´ ì—†ìŠµë‹ˆë‹¤</div>
                    )}
                  </div>
                </div>
                <div className="bg-purple-50 rounded-lg p-4 border border-purple-200">
                  <div className="text-purple-600 font-semibold mb-2 text-center">ğŸ‘§ ì„¸í•˜</div>
                  <div className="mt-2 text-xs text-gray-500">
                    {isLoading ? (
                      <div className="text-gray-400">ë¡œë”© ì¤‘...</div>
                    ) : memberSchedules['seha'] && memberSchedules['seha'].length > 0 ? (
                      memberSchedules['seha'].slice(0, 3).map((schedule, index) => {
                        console.log(`Seha ì¼ì • ${index} ìƒì„¸:`, {
                          title: schedule.title,
                          completed: schedule.completed,
                          family_members: schedule.family_members,
                          frequency: schedule.frequency
                        });
                        return (
                          <div key={index} className="flex items-center space-x-2">
                            {schedule.completed ? (
                              <>
                                <span className="text-green-500">âœ…</span>
                                <span className="line-through text-gray-400">{schedule.title}</span>
                              </>
                            ) : (
                              <>
                                <span className="text-blue-400">ğŸš€</span>
                                <span className="text-gray-600">{schedule.title}</span>
                              </>
                            )}
                          </div>
                        );
                      })
                    ) : (
                      <div className="text-gray-400">ì˜¤ëŠ˜ í• ì¼ì´ ì—†ìŠµë‹ˆë‹¤</div>
                    )}
                  </div>
                </div>
                <div className="bg-blue-50 rounded-lg p-4 border border-blue-200">
                  <div className="text-blue-600 font-semibold mb-2 text-center">ğŸ‘¨ ì•„ë¹ </div>
                  <div className="mt-2 text-xs text-gray-500">
                    {isLoading ? (
                      <div className="text-gray-400">ë¡œë”© ì¤‘...</div>
                    ) : memberSchedules['dad'] && memberSchedules['dad'].length > 0 ? (
                      memberSchedules['dad'].slice(0, 3).map((schedule, index) => {
                        console.log(`Dad ì¼ì • ${index} ìƒì„¸:`, {
                          title: schedule.title,
                          completed: schedule.completed,
                          family_members: schedule.family_members,
                          frequency: schedule.frequency
                        });
                        return (
                          <div key={index} className="flex items-center space-x-2">
                            {schedule.completed ? (
                              <>
                                <span className="text-green-500">âœ…</span>
                                <span className="line-through text-gray-400">{schedule.title}</span>
                              </>
                            ) : (
                              <>
                                <span className="text-blue-400">ğŸš€</span>
                                <span className="text-gray-600">{schedule.title}</span>
                              </>
                            )}
                          </div>
                        );
                      })
                    ) : (
                      <div className="text-gray-400">ì˜¤ëŠ˜ í• ì¼ì´ ì—†ìŠµë‹ˆë‹¤</div>
                    )}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        {/* Features Grid */}
        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
          {features.map((feature) => {
            const Icon = feature.icon;
            return (
              <Link key={feature.href} href={feature.href}>
                <Card className="hover:shadow-lg transition-all duration-300 cursor-pointer group">
                  <CardHeader className="text-center">
                    <div className={`w-16 h-16 mx-auto mb-4 rounded-full ${feature.color} flex items-center justify-center group-hover:scale-110 transition-transform`}>
                      <Icon className="h-8 w-8 text-white" />
                    </div>
                    <CardTitle className="text-xl">{feature.title}</CardTitle>
                    <CardDescription className="text-gray-600">
                      {feature.description}
                    </CardDescription>
                  </CardHeader>
                </Card>
              </Link>
            );
          })}
        </div>

        {/* ì¼ì • í†µê³„ - ë¹ ë¥¸ ì‹œì‘ ìœ„ë¡œ ì´ë™ */}
        <div className="mb-8">
          <Card>
            <CardHeader>
              <CardTitle className="flex items-center">
                <Clock className="mr-2 h-5 w-5 text-orange-500" />
                í•´ì•¼ í•  ì¼
              </CardTitle>
              <CardDescription>
                ì–´ì œ, ì˜¤ëŠ˜, ë‚´ì¼ì˜ í•´ì•¼ í•  ì¼ì„ í™•ì¸í•˜ì„¸ìš”
              </CardDescription>
            </CardHeader>
            <CardContent>
              <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                <Link href="/schedule?date=yesterday&view=day" className="block">
                  <div className="text-center p-4 bg-red-50 rounded-lg hover:bg-red-100 transition-colors cursor-pointer group">
                    <div className="text-2xl font-bold text-red-600 mb-1 group-hover:text-red-700">{stats.yesterdayUncompleted}</div>
                    <div className="text-sm text-red-700 group-hover:text-red-800">ì–´ì œ</div>
                    <div className="text-xs text-red-600 group-hover:text-red-700">í–ˆì–´ì•¼ í•  ì¼</div>
                  </div>
                </Link>
                <Link href="/schedule?date=today&view=day" className="block">
                  <div className="text-center p-4 bg-yellow-50 rounded-lg hover:bg-yellow-100 transition-colors cursor-pointer group">
                    <div className="text-2xl font-bold text-yellow-600 mb-1 group-hover:text-yellow-700">{stats.todayUncompleted}</div>
                    <div className="text-sm text-yellow-700 group-hover:text-yellow-800">ì˜¤ëŠ˜</div>
                    <div className="text-xs text-yellow-600 group-hover:text-yellow-700">ì•„ì§ ëª»í•œ ì¼</div>
                  </div>
                </Link>
                <Link href="/schedule?date=tomorrow&view=day" className="block">
                  <div className="text-center p-4 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors cursor-pointer group">
                    <div className="text-2xl font-bold text-blue-600 mb-1 group-hover:text-blue-700">{stats.tomorrowUncompleted}</div>
                    <div className="text-sm text-blue-700 group-hover:text-blue-800">ë‚´ì¼</div>
                    <div className="text-xs text-blue-600 group-hover:text-blue-700">í•  ì¼</div>
                  </div>
                </Link>
              </div>
            </CardContent>
          </Card>
        </div>

        {/* Quick Actions */}
        <div className="bg-white rounded-lg shadow-md p-6">
          <h2 className="text-2xl font-bold text-gray-900 mb-4">ë¹ ë¥¸ ì‹œì‘</h2>
          <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
            <Link href="/family-meals">
              <Button className="w-full h-16 text-lg" size="lg">
                <Calendar className="mr-2 h-5 w-5" />
                ì˜¤ëŠ˜ ì‹ë‹¨ ë“±ë¡í•˜ê¸°
              </Button>
            </Link>
            <Link href="/recipes">
              <Button variant="outline" className="w-full h-16 text-lg" size="lg">
                <ChefHat className="mr-2 h-5 w-5" />
                ìƒˆ ë ˆì‹œí”¼ ì¶”ê°€í•˜ê¸°
              </Button>
            </Link>
          </div>
        </div>

        {/* Stats */}
        <div className="mt-12 grid grid-cols-1 md:grid-cols-4 gap-6">
          <Link href="/family-meals?view=week" className="block">
            <Card className="hover:shadow-lg transition-all duration-300 cursor-pointer group">
              <CardContent className="p-6 text-center">
                <div className="text-3xl font-bold text-blue-600 mb-2 group-hover:text-blue-700">{stats.totalFamilyMeals}</div>
                <div className="text-gray-600 group-hover:text-gray-800">ë“±ë¡ëœ ì‹ë‹¨</div>
              </CardContent>
            </Card>
          </Link>
          <Link href="/meals" className="block">
            <Card className="hover:shadow-lg transition-all duration-300 cursor-pointer group">
              <CardContent className="p-6 text-center">
                <div className="text-3xl font-bold text-green-600 mb-2 group-hover:text-green-700">{stats.totalMeals}</div>
                <div className="text-gray-600 group-hover:text-gray-800">ì €ì¥ëœ ë©”ë‰´</div>
              </CardContent>
            </Card>
          </Link>
          <Link href="/recipes" className="block">
            <Card className="hover:shadow-lg transition-all duration-300 cursor-pointer group">
              <CardContent className="p-6 text-center">
                <div className="text-3xl font-bold text-purple-600 mb-2 group-hover:text-purple-700">{stats.totalRecipes}</div>
                <div className="text-gray-600 group-hover:text-gray-800">ë ˆì‹œí”¼</div>
              </CardContent>
            </Card>
          </Link>
          <Link href="/schedule?view=month" className="block">
            <Card className="hover:shadow-lg transition-all duration-300 cursor-pointer group">
              <CardContent className="p-6 text-center">
                <div className="text-3xl font-bold text-orange-600 mb-2 group-hover:text-orange-700">{stats.totalSchedules}</div>
                <div className="text-gray-600 group-hover:text-gray-800">ë“±ë¡ëœ ì¼ì •</div>
              </CardContent>
            </Card>
          </Link>
        </div>
      </main>
    </div>
  );
}
